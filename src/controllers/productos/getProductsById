const pool = require('../../utils/dbConector.js');

const getProductsById = async (req, res) => {
      try {
          const obtenerUsuarioID = async () =>{
          const { id } = req.params
          console.log(id)
            const consulta = 'SELECT * FROM productos inner join vendedor on productos.id_producto = vendedor.id_producto where vendedor.id_vendedor =  $1' 
          const values = [id]
          const {rows} = await pool.query(consulta, values)
          console.log(rows)
          return rows
        }    
        const result = await obtenerUsuarioID()
        res.json(result)
       
      } catch (error) {
          console.log(error.message);
         return res.status(500).send(error.message);
      }
}

module.exports = getProductsById;